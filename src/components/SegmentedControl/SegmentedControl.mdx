import { DarkMode, LightMode, SystemMode } from "../Icon";
import { SegmentedControl } from "./";
import { ArgTypes, Controls, Meta, Subtitle, Title } from '@storybook/blocks';
import { CollapsibleCanvas, CollapsibleSource } from '@storybookComponents/CollapsibleCanvas';
import { Hero } from '@storybookComponents/Hero';
import { linkTo } from '@storybook/addon-links';
import { useState } from 'react';
import * as SegmentedControlStories from './SegmentedControl.stories';
 
<Meta of={SegmentedControlStories} />
 
<Title>Segmented Control</Title>
<Subtitle>Toggle through grouped options</Subtitle>

export const Example = () => {
    const [theme, setTheme] = useState("light");

    return (
        <SegmentedControl
            value={theme}
            onChange={(nextTheme) => setTheme(nextTheme)}
            aria-label="Seleect theme mode"
            gutterSize='sm'
        >
            <SegmentedControl.Option value="light" aria-label="Light mode">
                <LightMode />
            </SegmentedControl.Option>
            <SegmentedControl.Option value="dark" aria-label="Dark mode">
                <DarkMode />
            </SegmentedControl.Option>
            <SegmentedControl.Option value="system" aria-label="System mode">
                <SystemMode />
            </SegmentedControl.Option>
        </SegmentedControl>
    );
};


<Hero className="flex gap-4">
  <Example />
</Hero>

## Usage
```jsx
import { SegmentedControl } from "@plexui/ui/components/SegmentedControl";
```
<CollapsibleCanvas of={SegmentedControlStories.Base} additionalActions={[
  { title: 'View story', onClick: linkTo(SegmentedControlStories.title, 'Base')}
]} />
<CollapsibleSource of={SegmentedControlStories.Base} />

## Reference

<h3 id="segmentedcontrol-root" data-heading-label="Root">`SegmentedControl`</h3>

<ArgTypes of={SegmentedControlStories.Base} />

<h3 id="segmentedcontrol-option" data-heading-label="Option">`SegmentedControl.Option`</h3>

<ArgTypes of={SegmentedControl.Option} />

## Examples

### Sizing & roundness
Sizing of the control is controlled with `size` and `gutterSize` props. `size` sets the control to a specific `height`, and `gutterSize` sets the horizontal padding of the inner options.

Each `size` provides default values for `gutterSize`, as well as `font-size` and `border-radius`. Each of these values can be overridden independently.

Create a fully rounded control with the `pill` prop. When `pill` is set, extra horizontal gutter is dynamically applied to the inner options.

<CollapsibleCanvas of={SegmentedControlStories.Sizing} />
<div className="canvas-controls-only">
<Controls of={SegmentedControlStories.Sizing}/>
</div>

### Block

Create full-width controls with the `block` prop. 

<CollapsibleCanvas of={SegmentedControlStories.Block} />
<div className="canvas-controls-only">
<Controls of={SegmentedControlStories.Block}/>
</div>
<CollapsibleSource of={SegmentedControlStories.Block} />

### Disabled group

Use `disabled` on the `SegmentedControl` root to disable all options.

<CollapsibleCanvas of={SegmentedControlStories.Disabled} />
<div className="canvas-controls-only">
<Controls of={SegmentedControlStories.Disabled}/>
</div>
<CollapsibleSource of={SegmentedControlStories.Disabled} />

### Disabled option

Use `disabled` on a given `SegmentedControl.Option` to disable only that option.

<CollapsibleCanvas of={SegmentedControlStories.DisabledOption} />
<div className="canvas-controls-only">
<Controls of={SegmentedControlStories.DisabledOption}/>
</div>
<CollapsibleSource of={SegmentedControlStories.DisabledOption} />

### Scrollable
`SegmentedControl` can support scrolling, but is not enabled by default.

To create a scrollable segmented control, wrap the component in a simple `flex` wrapper, which will then cause the control to create inner scrolling when applicable. When scrollable, the selected option will automatically be scrolled into view.

<CollapsibleCanvas of={SegmentedControlStories.Scrollable} />
<CollapsibleSource of={SegmentedControlStories.Scrollable} />
 
### Narrow pill
When using the `pill` prop with narrow content (such as a single digit or an icon), especially when using large component sizes and small `gutterSize` values, the option width will automatically be at least equal to the control height. This ensures that the hover and active states maintain a perfectly circular shape without overflowing the container or overlapping adjacent options.

<CollapsibleCanvas of={SegmentedControlStories.NarrowPill} />
<div className="canvas-controls-only">
<Controls of={SegmentedControlStories.NarrowPill}/>
</div>
<CollapsibleSource of={SegmentedControlStories.NarrowPill} />

### Icon only
Use the `icon` prop to display icons in options. When using icon-only options, always provide an `aria-label` for accessibility.

<CollapsibleCanvas of={SegmentedControlStories.IconOnly} />
<CollapsibleSource of={SegmentedControlStories.IconOnly} />

### Icon and text
Combine `icon` with text content for richer options. The icon automatically sizes based on the control size.

<CollapsibleCanvas of={SegmentedControlStories.IconAndText} />
<CollapsibleSource of={SegmentedControlStories.IconAndText} />

### With badge
Use the `badge` prop to display counts or status indicators. Pass a simple value for default styling, or an object for custom color and variant.

<CollapsibleCanvas of={SegmentedControlStories.WithBadge} />
<CollapsibleSource of={SegmentedControlStories.WithBadge} />

### Icon, text, and badge
All three content types can be combined in a single option.

<CollapsibleCanvas of={SegmentedControlStories.IconTextBadge} />
<CollapsibleSource of={SegmentedControlStories.IconTextBadge} />

### Badge variants
Badges support semantic colors (`secondary`, `success`, `danger`, `warning`, `info`, `discovery`, `caution`) and two style variants (`soft`, `solid`). The badge size automatically adjusts based on the control size.

<CollapsibleCanvas of={SegmentedControlStories.BadgeVariants} />
<div className="canvas-controls-only">
<Controls of={SegmentedControlStories.BadgeVariants}/>
</div>
<CollapsibleSource of={SegmentedControlStories.BadgeVariants} />
