import { ArrowRight } from "../Icon";
import { ButtonLink } from "./";
import { ArgTypes, Controls, Meta, Subtitle, Title } from '@storybook/blocks';
import { CollapsibleCanvas, CollapsibleSource } from '@storybookComponents/CollapsibleCanvas';
import { Hero } from '@storybookComponents/Hero';
import { linkTo } from '@storybook/addon-links';
 
import * as ButtonLinkStories from './ButtonLink.stories';
 
<Meta of={ButtonLinkStories} />
 
<Title>Button Link</Title>
<Subtitle>`<Button>` as a semantic anchor element</Subtitle>

## Usage
```jsx
import { ButtonLink } from "@plexui/ui/components/Button";
```
<CollapsibleCanvas of={ButtonLinkStories.Base} additionalActions={[
  { title: 'View story', onClick: linkTo(ButtonLinkStories.title, 'Base')}
]} />
<CollapsibleSource of={ButtonLinkStories.Base} />

## Reference
<ArgTypes of={ButtonLinkStories.Base} />

## Examples

### Internal link

When a relative `href` or `to` is provided, `ButtonLink` automatically uses the configured `LinkComponent` from `PlexUIProvider` so your router handles navigation and prefetching.

<CollapsibleCanvas of={ButtonLinkStories.Internal} />
<CollapsibleSource of={ButtonLinkStories.Internal} />

### External link

When linking to an external URL (or when `external` is set), `<a>` is used with `target="_blank"` and `rel="noopener noreferrer"` added automatically.

If your link is not being automatically identified, you can force external link behavior with the `external` prop.

<CollapsibleCanvas of={ButtonLinkStories.External} />
<CollapsibleSource of={ButtonLinkStories.External} />

### Colors & variants
You can stylize the display of the link using the `color` and `variant` props.

<CollapsibleCanvas of={ButtonLinkStories.Colors} />

### Sizing & roundness
Sizing of the link is controlled with `size` and `gutterSize` props. `size` sets the control `height`, and `gutterSize` sets the horizontal padding.

Create fully rounded links with the `pill` prop. When `pill` is set, extra horizontal gutter is dynamically applied to the link.

<CollapsibleCanvas of={ButtonLinkStories.Sizing} />
<div className="canvas-controls-only">
  <Controls of={ButtonLinkStories.Sizing}/>
</div>

### Icons

Icon sizing is controlled by the `iconSize` prop, which makes it easy to add icons as children without additional props.

`size` will provide a default value for `iconSize`, but setting the prop will force the specified size.

<CollapsibleCanvas of={ButtonLinkStories.Icon} />
<div className="canvas-controls-only">
  <Controls of={ButtonLinkStories.Icon}/>
</div>
<CollapsibleSource of={ButtonLinkStories.Icon} />

### Block

Create full-width links with the `block` prop.

<CollapsibleCanvas of={ButtonLinkStories.Block} />
<div className="canvas-controls-only">
  <Controls of={ButtonLinkStories.Block}/>
</div>
<CollapsibleSource of={ButtonLinkStories.Block} />

### Disabled

Use `disabled` to both visually and accessibly disable a link. The component renders as a `span[role="link"]`, and `onClick` handles are not bound.

<CollapsibleCanvas of={ButtonLinkStories.Disabled} />
<div className="canvas-controls-only">
  <Controls of={ButtonLinkStories.Disabled}/>
</div>
<CollapsibleSource of={ButtonLinkStories.Disabled} />

## Configure your Router

### Provider

```tsx
// In the root of your App
import {PlexUIProvider} from "@plexui/ui/components/PlexUIProvider"
import {Link} from "react-router"

// Set up types 
declare global {
  interface PlexUIConfig {
    LinkComponent: typeof Link
  }
}

// Wrap your app in PlexUIProvider and pass in your router's Link component.
export function App() {
  return (
    <PlexUIProvider linkComponent={Link}>
      {/* other providers... */}
    </PlexUIProvider>
  )
}

// elsewhere - everything just works!
<ButtonLink to={{ pathname: "/help" }} prefetch="intent">
  Get Help
</ButtonLink>
```

### Component-level
You can also pass your Link component to the `as` prop.

```tsx
import {Link} from "next/link"

<ButtonLink as={Link} href="/dashboard">
  View Dashboard
</ButtonLink>
```
