import { Meta, Subtitle, Title, ArgTypes } from '@storybook/blocks';
import { CollapsibleCanvas, CollapsibleSource } from '@storybookComponents/CollapsibleCanvas';
import { linkTo } from '@storybook/addon-links';
import { Hero } from '@storybookComponents/Hero';

import * as SidebarStories from './Sidebar.stories';
import { Sidebar, SidebarProvider, SidebarMenuButton } from "./Sidebar";

<Meta of={SidebarStories} />

<Title>Sidebar</Title>
<Subtitle>Composable navigation sidebar for application layouts</Subtitle>

<Hero className="block w-full max-w-lg text-center">
  {/* Visual representation of Sidebar would go here, matching Hero standard */}
</Hero>

## Usage

```jsx
import {
  SidebarProvider,
  Sidebar,
  SidebarHeader,
  SidebarContent,
  SidebarFooter,
  SidebarMenu,
  SidebarMenuItem,
  SidebarMenuButton,
  SidebarTrigger,
} from "@plexui/ui/components/Sidebar";
```

<CollapsibleCanvas of={SidebarStories.Base} additionalActions={[
  { title: 'View story', onClick: linkTo(SidebarStories.default.title, 'Base')}
]} />
<CollapsibleSource of={SidebarStories.Base} />

## Examples

### Vertical Scroll

If the content is taller than the sidebar, it will scroll vertically.

<CollapsibleCanvas of={SidebarStories.Scrollable} />

### Text Only

A text-only sidebar without icons. Uses `collapsible="none"` since there are no icons to collapse to.

<CollapsibleCanvas of={SidebarStories.TextOnly} />

### Collapsibility

The sidebar supports different collapse behaviors to fit various application needs.

- **offcanvas** (default): On mobile, works as a drawer. On desktop, collapses completely.
- **icon**: Collapses to an icon-only rail.
- **none**: Static sidebar that cannot be collapsed.

<CollapsibleCanvas of={SidebarStories.CollapsibleIcon} />

### Nested Navigation

Build collapsible nested menus with chevron toggles for documentation and API reference sidebars.

<CollapsibleCanvas of={SidebarStories.CollapsibleNested} />

### Mobile Support

Mobile behavior is handled automatically when using `SidebarProvider`. The `SidebarMobileMenuButton` provides a standard animated hamburger trigger.

<CollapsibleCanvas of={SidebarStories.Mobile} />

### Search & Skeleton

The sidebar provides dedicated components for common patterns like search inputs and loading states.

<CollapsibleCanvas of={SidebarStories.WithSearch} />
<CollapsibleCanvas of={SidebarStories.LoadingSkeleton} />

### Header Sizes

`SidebarGroupLabel` supports two size variants to fit different navigation contexts:

| Size | Style | Use case |
|------|-------|----------|
| `sm` | Compact, tertiary color | Dashboard navigation, settings panels, sidebars with fewer items |
| `lg` | Larger, primary color, more spacing | Documentation, API reference, content-heavy sections with many items |

```jsx
// Small header - for compact sidebars
<SidebarGroupLabel size="sm">Settings</SidebarGroupLabel>

// Large header - for documentation (default)
<SidebarGroupLabel size="lg">API Reference</SidebarGroupLabel>
```

The default is `lg` for documentation-style sidebars. Use `sm` for dashboard and settings pages where space is limited.
