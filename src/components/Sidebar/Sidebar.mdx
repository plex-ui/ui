import { Meta, Subtitle, Title, ArgTypes } from '@storybook/blocks';
import { CollapsibleCanvas, CollapsibleSource } from '@storybookComponents/CollapsibleCanvas';
import { linkTo } from '@storybook/addon-links';
import { Hero } from '@storybookComponents/Hero';

import * as SidebarStories from './Sidebar.stories';
import { Sidebar, SidebarProvider, SidebarMenuButton } from "./Sidebar";

<Meta of={SidebarStories} />

<Title>Sidebar</Title>
<Subtitle>Composable navigation sidebar for application layouts</Subtitle>

<Hero className="block w-full max-w-lg text-center">
  {/* Visual representation of Sidebar would go here, matching Hero standard */}
</Hero>

## Usage

```jsx
import {
  SidebarProvider,
  Sidebar,
  SidebarHeader,
  SidebarContent,
  SidebarFooter,
  SidebarMenu,
  SidebarMenuItem,
  SidebarMenuButton,
  SidebarTrigger,
} from "@plexui/ui/components/Sidebar";
```

<CollapsibleCanvas of={SidebarStories.Base} additionalActions={[
  { title: 'View story', onClick: linkTo(SidebarStories.default.title, 'Base')}
]} />
<CollapsibleSource of={SidebarStories.Base} />

## Examples

### Vertical Scroll (Early Crop)

If the content is taller than the sidebar, it will scroll vertically. The content will hide under the header and footer as it scrolls (the "early crop" effect).

<CollapsibleCanvas of={SidebarStories.Scrollable} />

### No Icons (Settings)

A text-only sidebar for settings and configuration pages where icons are not needed. Uses `collapsible="none"` since there are no icons to collapse to.

<CollapsibleCanvas of={SidebarStories.NoIcons} />

### Collapsibility

The sidebar supports different collapse behaviors to fit various application needs.

- **offcanvas** (default): On mobile, works as a drawer. On desktop, collapses completely.
- **icon**: Collapses to an icon-only rail.
- **none**: Static sidebar that cannot be collapsed.

<CollapsibleCanvas of={SidebarStories.CollapsibleIcon} />

### Variants

Use the `variant` prop to change the visual appearance of the sidebar for different contexts.

<CollapsibleCanvas of={SidebarStories.DualTier} />

### Mobile Support

Mobile behavior is handled automatically when using `SidebarProvider`. The `SidebarMobileMenuButton` provides a standard animated hamburger trigger.

<CollapsibleCanvas of={SidebarStories.Mobile} />

### Search & Skeleton

The sidebar provides dedicated components for common patterns like search inputs and loading states.

<CollapsibleCanvas of={SidebarStories.WithSearch} />
<CollapsibleCanvas of={SidebarStories.LoadingSkeleton} />
